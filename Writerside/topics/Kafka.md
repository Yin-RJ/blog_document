# Kafka

## 消息系统分类

### Peer-to-Peer(Queue)

PTP队列模式，点到点的模式。

**工作模式**
1. 消息生产者生产消息进入队列，消费者从队列中取出消息并进行消费
2. 一条消息只能被一个消费者消费，消费过后消息从队列中移除，其他消费者不能再消费
3. 一个队列支持多个生产者写入
4. 消息如果没有被消费，那么就会一直存在在队列中，可以不存在消费者

### Publish/Subscribe(Topic)
发布-订阅模式。
> Kafka所采用的就是发布-订阅模式，被称为一种高吞吐量、持久性、分布式的发布订阅的消息队列系统

**工作模式**
1. 生产者发布消息到Topic中，同时有多个消费者来消费消息
2. 发布到Topic中的消息会被多个消费者订阅消费
3. 当生产者发布消息的时候，无论是否存在消费者都不会报错
4. 一定是现有生产者再有消费者

## 核心API
- Producer API: 生产者API允许一组应用将一组记录发布到一个或者多个Kafka Topic中
- Consumer API: 消费者API允许应用程序订阅一个或者多个Topic，并处理向它们传输的数据流
- Streams API: 流API允许应用程序充当流处理器，从一个或者多个Topic中消费输入流，并将输出流生成为一个或多个输出主题，从而将输入流有效地转换为输出流
- Connector API: 连接器API允许构建和运行可重用的生产者或消费者，这些生产者或消费者将Kafka Topic连接到现有的应用程序或数据系统


