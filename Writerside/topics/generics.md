# Java 泛型

> 泛型的本质是参数化类型，即给类型指定一个参数，然后在使用的时候再指定此参数具体的值，那样这个参数的类型就可以在使用时再确定了

泛型提供了编译时类型安全检测机制，允许程序员在编译时检测到非法的数据类型

泛型可以用于类、接口、方法，分别形成泛型类、泛型接口、泛型方法

## 泛型的作用
### 类型安全
> 编译器在编译的时候就会对类型进行检查，使得程序更加安全

如果一个`List`没有泛型，那么在插入元素的时候就可以任意插入各种类型的数据，这时候编译的时候无法检查出来，
只有在运行的时候才会发生错误；有了泛型之后会在编译的时候就去检查类型是否存在错误

### 自动转换
> 消除源代码中的类型强制转换，提高代码可读性，减少类型转换错误的情况

如果没有泛型，那么从一个`List`取出数据后都需要进行一次强制类型转换

### 性能提升
> 减少了拆装箱带来的性能损耗

### 可复用性
> 适用于多种数据类型执行相同的操作逻辑

## 类型擦除原则
- 消除类型参数声明，即删除<>及其包围的部分
- 通过类型参数的上下界推断并替换所有的类型参数为原生态类型
  - 如果类型参数是无限制通配符或者无上下界限定则替换成`Object`
  - 如果类型参数有上下界限定，那么依据子类替换原则取类型边界最左边的限定类型进行替换（即父类）
  - 为了保证类型安全，必要时插入强制类型转换代码
  - 自动产生桥接方法以保证擦除类型后仍然具有泛型的多态性